function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}import{pascalToKebab}from"./util.js";const registerControllers=function(){var _ref1=_asyncToGenerator(function*(...controllers){const allUndefinedElements=[...document.querySelectorAll(":not(:defined)")];allUndefinedElements.forEach(el=>el.setAttribute("data-controller",el.localName));const registerController=function(){var _ref=_asyncToGenerator(function*(controller,options={}){let config={};if(Array.isArray(controller)){[controller,config={}]=controller}const controllerName=controller.name;const controllerTag=config&&config.name?config.name:pascalToKebab(controllerName);if(window.customElements.get(controllerTag)){console.warn(`Controller "${controllerTag}" is already registered, skipping...`);return}if(!controllerTag.includes("-")){console.error(`[${controllerName}] Controller tag name must contain a hyphen but got <${controllerTag}>`)}window.customElements.define(controllerTag,controller,{})});return function registerController(controller){return _ref.apply(this,arguments)}}();yield Promise.allSettled(controllers.map(controller=>registerController(controller)))});return function registerControllers(){return _ref1.apply(this,arguments)}}();export{registerControllers}
//# sourceMappingURL=register.js.map